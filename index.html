<!doctype>
<html>
    <head>
        <!-- polyfills -->
        <script src="polyfills/document-register-element.js"></script>

        <!-- pure-form component -->
        <script src="src/pure-form.js"></script>
        <link href="src/pure-form.css" rel="stylesheet" />
        <!-- custom styles for this page -->
        <style>
            html { height: 100%; min-height: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }
            body { padding-bottom: 40px; font-size: 14px; font-family: tahoma; color: #333; }
        </style>
        <script>
            // list to all pure-form events!
            window.onload = function(){

                document.addEventListener('submit', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.target.value);    // form value
                    console.log('--------------------');
                });

                // schema failed to load
                document.addEventListener('schema-error', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.detail.url);      // requested URL
                    console.log(e.detail.status);   // HTTP status code
                    console.log(e.detail.body);     // HTTP response body
                    console.log('--------------------');
                });

                // schema loaded
                document.addEventListener('schema-loaded', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.detail.url);      // requested URL
                    console.log(e.detail.status);   // HTTP status code
                    console.log(e.detail.body);     // HTTP response body
                    console.log('--------------------');
                });

                // render has complete
                document.addEventListener('render-complete', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log('--------------------');
                });

                document.addEventListener('value-set', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.detail.oldValue); // old form value
                    console.log(e.detail.newValue); // new form value
                    console.log('--------------------');
                })

                document.addEventListener('button-clicked', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.detail.value);    // value of the button
                    console.log(e.detail.link);     // JSON schema link object if present
                    console.log('--------------------');
                });

                // data submitted to schema link failed
                document.addEventListener('submit-failed', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.detail.url);      // requested URL
                    console.log(e.detail.status);   // HTTP status code
                    console.log(e.detail.body);     // HTTP response body
                    console.log('--------------------');
                });

                // data submitted to schema link object successful
                document.addEventListener('submit-successful', function(e) {
                    console.log('--------------------');
                    console.log(e.type);            // event name
                    console.log(e.target);          // actual HTML element clicked
                    console.log(e.detail.url);      // requested URL
                    console.log(e.detail.status);   // HTTP status code
                    console.log(e.detail.body);     // HTTP response body
                    console.log('--------------------');
                });

                document.addEventListener('validation-failed', function(e) {
                    console.log('--------------------');
                    console.log(e.type);        // event name
                    console.log(this);          // pure form element
                    console.log(e.target);      // pure form element
                    console.log(e.target.value) // form value
                    console.log('--------------------');
                });

                document.addEventListener('validation-passed', function(e) {
                    console.log('--------------------');
                    console.log(e.type);        // event name
                    console.log(this);          // pure form element
                    console.log(e.target);      // pure form element
                    console.log(e.target.value) // form value
                    console.log('--------------------');
                });
            }
        </script>
    </head>
    <body>
        <pure-form id="contactForm" src="schemas/contact-form.json" validate-on-blur="true"></pure-form>
    </body>
</html>